{
  "version": 3,
  "sources": ["../../../../../../Users/sgolovine/Code/sunny.gg/functions/update-guestbook.ts"],
  "sourceRoot": "/var/folders/5l/mpf_sw851ssgg3vl9j26zgzc0000gn/T/tmp-12886-N5WNkYDrmsqn",
  "sourcesContent": ["/**\n * TODO:\n *\n * 1. Add some mechanism to filter out bad language.\n * 2. Add mechanism to filter out any injection attempt.\n * 3. General sanitization of the body for things like zalgo text.\n * 3. Get the current gist.\n * 4. Update said gist using this new message.\n * 5. Upload gist back to GH.\n */\n\nimport { Handler } from \"@netlify/functions\"\n\ninterface Body {\n  message: string\n  author: string\n}\n\nconst handler: Handler = async event => {\n  if (!event.body) {\n    return {\n      statusCode: 400,\n      body: JSON.stringify({\n        message: \"Body Not Found\",\n      }),\n    }\n  }\n\n  const body: Body = JSON.parse(event.body)\n\n  if (!body.message) {\n    return {\n      statusCode: 400,\n      body: JSON.stringify({\n        message: \"Message Not Found\",\n      }),\n    }\n  }\n\n  if (!body.author) {\n    return {\n      statusCode: 400,\n      body: JSON.stringify({\n        message: \"Author Missing\",\n      }),\n    }\n  }\n\n  const template = `${body.message}\n\n  - ${body.author}\n\n  ------\n  `\n\n  console.log(template)\n\n  return {\n    statusCode: 201,\n    body: JSON.stringify({\n      message: \"Success\",\n    }),\n  }\n}\n\nexport { handler }\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,IAAM,UAAmB,OAAM,UAAS;AACtC,MAAI,CAAC,MAAM,MAAM;AACf,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAEA,QAAM,OAAa,KAAK,MAAM,MAAM,IAAI;AAExC,MAAI,CAAC,KAAK,SAAS;AACjB,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAEA,MAAI,CAAC,KAAK,QAAQ;AAChB,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAEA,QAAM,WAAW,GAAG,KAAK;AAAA;AAAA,MAErB,KAAK;AAAA;AAAA;AAAA;AAKT,UAAQ,IAAI,QAAQ;AAEpB,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,MAAM,KAAK,UAAU;AAAA,MACnB,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACF;",
  "names": []
}
